<form class="form" [formGroup]="form" (ngSubmit)="submit()">
  <ul class="wrapper">
    <li style="--i:4;">
      <input class="input" type="text" placeholder="Nome" formControlName="nome" required />
      @if (nome?.invalid && nome?.touched) {
        <div class="error">
          @if (nome?.errors?.['required']) {
            <span>Nome é obrigatório.</span>
          }
          @if (nome?.errors?.['minlength']) {
            <span>Mínimo 3 caracteres.</span>
          }
        </div>
      }
    </li>
    <li style="--i:3;">
      <input class="input" type="text" placeholder="Telefone" formControlName="telefone" required maxlength="11" />
      @if (telefone?.invalid && telefone?.touched) {
        <div class="error">
          @if (telefone?.errors?.['required']) {
            <span>Telefone é obrigatório.</span>
          }
          @if (telefone?.errors?.['pattern']) {
            <span>Digite apenas números (10 ou 11 dígitos).</span>
          }
        </div>
      }
    </li>
    <li style="--i:2;">
      <input class="input" type="email" placeholder="E-mail" formControlName="email" required />
      @if (email?.invalid && email?.touched) {
        <div class="error">
          @if (email?.errors?.['required']) {
            <span>E-mail é obrigatório.</span>
          }
          @if (email?.errors?.['email']) {
            <span>E-mail inválido.</span>
          }
        </div>
      }
    </li>
    <button style="--i:1;" [disabled]="form.invalid || loading">
      @if (loading) {
        <span>Salvando...</span>
      } @else {
        <span>Salvar</span>
      }
    </button>
  </ul>
  @if (successMsg) {
    <div class="success">{{ successMsg }}</div>
  }
  @if (errorMsg) {
    <div class="error">{{ errorMsg }}</div>
  }
</form> 